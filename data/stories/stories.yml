version: "3.1"

stories:
- story: weight gain keto diet with no allergens
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_diet_plan
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - requested_slot: goal
  - slot_was_set:
    - goal: gain_weight
  - slot_was_set:
    - goal: gain_weight
  - slot_was_set:
    - requested_slot: diet
  - slot_was_set:
    - diet: ketogenic
  - slot_was_set:
    - diet: Ketogenic
  - slot_was_set:
    - requested_slot: has_allergens
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - requested_slot: height
  - slot_was_set:
    - height: 1m68
  - slot_was_set:
    - weight: 50kg
  - slot_was_set:
    - age: '21'
  - slot_was_set:
    - gender: female
  - slot_was_set:
    - height: 168
  - slot_was_set:
    - weight: 50
  - slot_was_set:
    - age: '21'
  - slot_was_set:
    - gender: female
  - slot_was_set:
    - requested_slot: activity_level
  - slot_was_set:
    - activity_level: '4'
  - slot_was_set:
    - activity_level: 4
  - slot_was_set:
      - requested_slot: confirm
  - slot_was_set:
      - confirm: true
  - slot_was_set:
      - confirm: true
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_generate_diet
  - intent: thanks
  - action: utter_more

- story: none specific diet with allergens
  steps:
  - intent: ask_diet_plan
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - requested_slot: goal
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - requested_slot: diet
  - slot_was_set:
    - diet: ''
  - slot_was_set:
    - diet: ''
  - slot_was_set:
    - requested_slot: has_allergens
  - slot_was_set:
    - has_allergens: true
  - slot_was_set:
    - has_allergens: true
  - slot_was_set:
    - requested_slot: allergens
  - slot_was_set:
    - allergens:
      - peanuts
  - slot_was_set:
    - allergens:
      - peanut
  - slot_was_set:
    - requested_slot: height
  - slot_was_set:
    - height: 1m82
  - slot_was_set:
    - height: 182
  - slot_was_set:
    - requested_slot: weight
  - slot_was_set:
    - weight: 80kg
  - slot_was_set:
    - weight: 80
  - slot_was_set:
    - requested_slot: age
  - slot_was_set:
    - age: '21'
  - slot_was_set:
    - gender: male
  - slot_was_set:
    - age: 21
  - slot_was_set:
    - gender: male
  - slot_was_set:
    - requested_slot: activity_level
  - slot_was_set:
    - activity_level: '4'
  - slot_was_set:
    - activity_level: 4
  - slot_was_set:
      - requested_slot: confirm
  - slot_was_set:
      - confirm: true
  - slot_was_set:
      - confirm: true
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_generate_diet

- story: form starting with inform diet
  steps:
  - intent: inform_diet
    entities:
    - diet: vegetarian
  - slot_was_set:
    - diet: vegetarian
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - diet: Vegetarian
  - slot_was_set:
    - diet: Vegetarian
  - slot_was_set:
    - requested_slot: goal
  - slot_was_set:
    - goal: maintain_weight
  - slot_was_set:
    - goal: maintain_weight
  - slot_was_set:
    - requested_slot: has_allergens
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - requested_slot: height
  - slot_was_set:
    - height: 1m75
  - slot_was_set:
    - weight: 66kg
  - slot_was_set:
    - age: '25'
  - slot_was_set:
    - gender: male
  - slot_was_set:
    - height: 175
  - slot_was_set:
    - weight: 66
  - slot_was_set:
    - age: 25
  - slot_was_set:
    - gender: male
  - slot_was_set:
    - requested_slot: activity_level
  - slot_was_set:
    - activity_level: '1'
  - slot_was_set:
    - activity_level: 1
  - slot_was_set:
      - requested_slot: confirm
  - slot_was_set:
      - confirm: true
  - slot_was_set:
      - confirm: true
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_generate_diet

- story: start with form with no diet, 2 allergens
  steps:
  - intent: ask_diet_plan
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - requested_slot: goal
  - intent: lose_weight
  - slot_was_set:
    - goal: lose_weight
  - action: diet_form
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - requested_slot: diet
  - intent: inform_no_diet
  - slot_was_set:
    - diet: ''
  - action: diet_form
  - slot_was_set:
    - diet: ''
  - slot_was_set:
    - requested_slot: has_allergens
  - intent: affirm
  - slot_was_set:
    - has_allergens: true
  - action: diet_form
  - slot_was_set:
    - has_allergens: true
  - slot_was_set:
    - requested_slot: allergens
  - intent: inform_allergens
    entities:
    - allergen: egg
    - allergen: peanut
  - slot_was_set:
    - allergens:
      - egg
      - peanut
  - action: diet_form
  - slot_was_set:
    - allergens:
      - peanut
      - egg
  - slot_was_set:
    - requested_slot: height
  - intent: inform_details
    entities:
    - height: 1m80
    - weight: 70kg
    - age: 21
    - gender: male
  - slot_was_set:
    - height: 1m80
  - slot_was_set:
    - weight: 70kg
  - slot_was_set:
    - age: 21
  - slot_was_set:
    - gender: male
  - action: diet_form
  - slot_was_set:
    - height: 180
  - slot_was_set:
    - weight: 70
  - slot_was_set:
    - age: 21
  - slot_was_set:
    - gender: male
  - slot_was_set:
    - requested_slot: activity_level
  - intent: inform_activity_level
    entities:
    - activity_level: '3'
  - slot_was_set:
    - activity_level: '3'
  - action: diet_form
  - slot_was_set:
    - activity_level: 3
  - slot_was_set:
      - requested_slot: confirm
  - slot_was_set:
      - confirm: true
  - slot_was_set:
      - confirm: true
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_generate_diet

- story: diet form with decimal weight
  steps:
  - intent: ask_diet_plan
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - requested_slot: goal
  - intent: lose_weight
  - slot_was_set:
    - goal: lose_weight
  - action: diet_form
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - requested_slot: diet
  - intent: inform_diet
    entities:
    - diet: paleo
  - slot_was_set:
    - diet: paleo
  - action: diet_form
  - slot_was_set:
    - diet: Paleo
  - slot_was_set:
    - requested_slot: has_allergens
  - intent: deny
  - slot_was_set:
    - has_allergens: false
  - action: diet_form
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - requested_slot: height
  - intent: inform_details
    entities:
    - height: 168cm
    - weight: 61.5kg
  - slot_was_set:
    - height: 168cm
  - slot_was_set:
    - weight: 61.5kg
  - action: diet_form
  - slot_was_set:
    - height: 168
  - slot_was_set:
    - weight: 61
  - slot_was_set:
    - requested_slot: gender
  - intent: inform_details
    entities:
    - age: 19
    - gender: female
  - slot_was_set:
    - age: 19
  - slot_was_set:
    - gender: female
  - action: diet_form
  - slot_was_set:
    - age: 19
  - slot_was_set:
    - gender: female
  - slot_was_set:
    - requested_slot: activity_level
  - intent: inform_activity_level
    entities:
    - activity_level: 10
  - intent: inform_activity_level
    entities:
    - activity_level: 3
  - action: diet_form

- story: diet form paleo and inform lose weight incomplete
  steps:
  - intent: ask_diet_plan
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - requested_slot: goal
  - intent: lose_weight
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - diet: Paleo
  - action: diet_form
  - slot_was_set:
      - requested_slot: has_allergens
  - intent: deny
  - slot_was_set:
      - has_allergens: false
  - action: diet_form
  - slot_was_set:
    - requested_slot: height
  - intent: inform_details
    entities:
    - height: 168cm
    - weight: 61kg
    - gender: female
  - slot_was_set:
    - height: 168
  - slot_was_set:
    - weight: 61
  - slot_was_set:
    - gender: female
  - slot_was_set:
    - age: 29
  - action: diet_form
  - slot_was_set:
    - requested_slot: activity_level
  - intent: inform_activity_level
    entities:
    - activity_level: '3'

- story: diet form paleo lose weight complete
  steps:
  - intent: ask_diet_plan
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - diet: Paleo
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - height: 168
  - slot_was_set:
    - weight: 61
  - slot_was_set:
    - gender: male
  - slot_was_set:
    - activity_level: 3
  - slot_was_set:
      - requested_slot: confirm
  - intent: inform_no_allergens
  - slot_was_set:
      - has_allergens: false
  - slot_was_set:
      - requested_slot: confirm
  - slot_was_set:
      - confirm: true
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_generate_diet

- story: happy path with get started
  steps:
  - intent: greet
  - action: utter_greet
  - intent: get_started
  - action: utter_get_started
  - intent: ask_diet_plan
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - requested_slot: goal
  - intent: lose_weight
  - slot_was_set:
    - goal: lose_weight
  - action: diet_form
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - requested_slot: diet
  - intent: inform_diet
    entities:
    - diet: ketogenic
  - slot_was_set:
    - diet: ketogenic
  - action: diet_form
  - slot_was_set:
    - diet: Ketogenic
  - slot_was_set:
    - requested_slot: has_allergens
  - intent: deny
  - slot_was_set:
    - diet: ''
  - slot_was_set:
    - has_allergens: false
  - action: diet_form
  - slot_was_set:
    - diet: ''
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - requested_slot: height
  - intent: inform_details
    entities:
    - height: 168cm
    - weight: 58kg
    - age: '31'
    - gender: female
  - slot_was_set:
    - height: 168cm
  - slot_was_set:
    - weight: 58kg
  - slot_was_set:
    - age: '31'
  - slot_was_set:
    - gender: female
  - action: diet_form
  - slot_was_set:
    - height: 168
  - slot_was_set:
    - weight: 58
  - slot_was_set:
    - age: '31'
  - slot_was_set:
    - gender: female
  - slot_was_set:
    - requested_slot: activity_level
  - intent: inform_activity_level
    entities:
    - activity_level: '1'
  - slot_was_set:
    - activity_level: '1'
  - action: diet_form
  - slot_was_set:
    - activity_level: 1
  - slot_was_set:
    - requested_slot: confirm
  - intent: affirm
  - slot_was_set:
    - confirm: true
  - action: diet_form
  - slot_was_set:
    - confirm: true
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_generate_diet
  - slot_was_set:
    - confirm: null
  - intent: thanks
  - action: utter_more
  - intent: restart
  - action: action_restart


- story: interactive_story
  steps:
  - intent: greet
  - action: utter_greet
  - intent: get_started
  - action: utter_get_started
  - intent: faq
    entities:
    - gender: male
  - action: utter_faq
  - intent: lose_weight
    entities:
    - diet: vegetarian
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - diet: vegetarian
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - diet: Vegetarian
  - slot_was_set:
    - requested_slot: has_allergens
  - intent: deny
  - slot_was_set:
    - has_allergens: false
  - action: diet_form
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - requested_slot: height
  - intent: inform_details
    entities:
    - height: 177cm
    - weight: 70kg
    - age: '22'
    - gender: male
  - slot_was_set:
    - height: 177cm
  - slot_was_set:
    - weight: 70kg
  - slot_was_set:
    - age: '22'
  - slot_was_set:
    - gender: male
  - action: diet_form
  - slot_was_set:
    - height: 177
  - slot_was_set:
    - weight: 70
  - slot_was_set:
    - age: '22'
  - slot_was_set:
    - gender: male
  - slot_was_set:
    - requested_slot: activity_level
  - intent: inform_activity_level
    entities:
    - activity_level: '2'
  - slot_was_set:
    - activity_level: '2'
  - action: diet_form
  - slot_was_set:
    - activity_level: 2
  - slot_was_set:
    - requested_slot: confirm
  - intent: affirm
  - slot_was_set:
    - confirm: true
  - action: diet_form
  - slot_was_set:
    - confirm: true
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_generate_diet
  - slot_was_set:
    - confirm: null
  - intent: thanks
  - action: utter_more
  - intent: ask_diet_plan
  - action: diet_form
  - active_loop: diet_form
  - slot_was_set:
    - goal: lose_weight
  - slot_was_set:
    - has_allergens: false
  - slot_was_set:
    - height: 177
  - slot_was_set:
    - weight: 70
  - slot_was_set:
    - age: '22'
  - slot_was_set:
    - gender: male
  - slot_was_set:
    - activity_level: 2
  - slot_was_set:
    - requested_slot: confirm
  - intent: inform_diet
    entities:
    - diet: ketogenic
  - slot_was_set:
    - diet: ketogenic
  - action: diet_form
  - slot_was_set:
    - diet: Ketogenic
  - slot_was_set:
    - requested_slot: confirm
  - intent: affirm
  - slot_was_set:
    - confirm: true
  - action: diet_form
  - slot_was_set:
    - confirm: true
  - slot_was_set:
    - requested_slot: null
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: action_generate_diet
  - slot_was_set:
    - confirm: null
  - intent: faq
  - action: utter_faq
  - intent: thanks
  - action: utter_more
