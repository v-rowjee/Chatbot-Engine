version: "3.1"

rules:
- rule: greetings
  steps:
    - intent: greet
    - action: utter_greet

- rule: Activate diet_form
  steps:
    - or:
      - intent: ask_diet_plan
      - intent: inform_diet
    - action: diet_form
    - active_loop: diet_form

- rule: Submit diet_form
  condition:
    - active_loop: diet_form
  steps:
    - action: diet_form
    - active_loop: null
    - slot_was_set:
        - requested_slot: null
    - action: utter_diet_form_slots
    - action: action_generate_diet
